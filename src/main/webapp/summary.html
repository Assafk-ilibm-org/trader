<!DOCTYPE html>
<html>
<head>
    <title>Stock Portfolio</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="node_modules/@hybrid-cloud/cirrus/dist/css/cirrus.min.css">
    <link rel="stylesheet" href="css/trader.css">
    <link rel="import" href="header.html"/>
    <script src='node_modules/@hybrid-cloud/cirrus/dist/js/cirrus.es5.min.js'></script>
</head>
<body data-peripheral="none">
<script>
    var link = document.querySelector('link[rel="import"]');
    var content = link.import;

    // Grab DOM from warning.html's document.
    var el = content.querySelector('.global-header');

    document.body.appendChild(el.cloneNode(true));
</script>
<script>
    var qs = (function (a) {
        if (a == "") return {};
        var b = {};
        for (var i = 0; i < a.length; ++i) {
            var p = a[i].split('=', 2);
            if (p.length == 1)
                b[p[0]] = "";
            else
                b[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "));
        }
        return b;
    })(window.location.search.substr(1).split('&'));

    function getOwner() {
        var span = document.getElementById("portfolioOwner");
        console.log(span);
        console.log(qs["owner"]);
        span.textContent = qs["owner"];
    }
</script>
<!-- TODO Replace this with a REST Request-->
<!--
String owner = request.getParameter("owner
JsonObject portfolio = PortfolioServices.getPortfolio(owner);
double overallTotal = portfolio.getJsonNumber("total").doubleValue();
String loyaltyLevel = portfolio.getString("loyalty
JsonObject stocks = portfolio.getJsonObject("stocks
-->
<main class="main" role="main">
    <section class="section"></section>
    <section class="section">
        <div class="container">
            <section class="section">
                <div class="row">
                    <div id="box-djia" class="box box--full">
                        <section class="section">
                            <div class="box box--full">
                                <div class="row">
                                    <div class="box box--full">
                                        <div class="module">
                                            <header class="module__header">
                                                <h6 class="h5 module__heading">Dow Jones Industrial Average</h6>
                                                <!-- TODO -->
                                                INDEXDJX: .DJI - Sept 2, 2017 4:36 PM EDT
                                            </header>
                                            <section class="module__body">
                                                Chart goes here
                                            </section>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="section">
                <div class="row">
                    <div id="clientDetails" class="box box--9">
                        <div class="row">
                            <div class="box box--full">
                                <div class="module">
                                    <table class="table" border="1" cellpadding="5">
                                        <caption class="table-header">
                                            <span class="u-text--bold">Clients</span>
                                            <button style="float: right;" class="button button--primary">
                                                <svg class="icon icon--warn">
                                                    <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="node_modules/@hybrid-cloud/cirrus/dist/icons/sprite.svg#add-new"></use>
                                                </svg>
                                                Add Client
                                            </button>
                                        </caption>
                                        <thead class="table__head">
                                        <tr class="table__row">
                                            <th class="table__cell" scope="col">Name
                                                <svg class="icon icon--down">
                                                    <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="node_modules/@hybrid-cloud/cirrus/dist/icons/sprite.svg#arrow-down"></use>
                                                </svg>
                                            </th>
                                            <th class="table__cell" scope="col">Total Assets
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="assets/icons/sprite.svg#arrow-down"></use>
                                                </svg>
                                            </th>
                                            <th class="table__cell" scope="col">Risk Tolerance
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="assets/icons/sprite.svg#arrow-down"></use>
                                                </svg>
                                            </th>
                                            <th class="table__cell" scope="col">Actions
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                     xlink:href="assets/icons/sprite.svg#arrow-down"></use>
                                                </svg>
                                            </th>
                                        </thead>
                                        <tbody class="table__body">
                                        <!-- TODO Replace this with a REST Request-->
                                        <!-- writer.append(getTableRows(stocks)); -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="box-activity" class="box box--3">
                        <section class="section">
                            <div class="box">
                                <div class="row">
                                    <div class="box">
                                        <div class="module">
                                            <header class="module__header">
                                                <h6 class="h5 module__heading">Recent Activity</h6>
                                            </header>
                                            <section class="module__body">
                                                <h6 class="h6 module__heading">Issue</h6>
                                                John is a Moderate Risk Tolerance investor.
                                                <br/><br/>
                                                <h6 class="h6 module__heading">Solution</h6>
                                                Sell some stocks.
                                            </section>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

            <form method="post"/>
            <div class="row">
                <div class="radio">
                    <input id="create" class="radio__button" type="radio" name="action" value="create">
                    <label for="create" class="radio__label">Create a new portfolio</label><br>
                </div>
            </div>
            <div class="row">
                <div class="radio">
                    <input id="retrieve" class="radio__button" type="radio" name="action" value="retrieve" checked>
                    <label for="create" class="radio__label">Retrieve selected portfolio</label><br>
                </div>
            </div>
            <div class="row">
                <div class="radio">
                    <input id="update" class="radio__button" type="radio" name="action" value="update">
                    <label for="create" class="radio__label">Update selected portfolio (add stock)</label><br>
                </div>
            </div>
            <div class="row">
                <div class="radio">
                    <input id="delete" class="radio__button" type="radio" name="action" value="delete">
                    <label for="create" class="radio__label">Delete selected portfolio</label><br>
                </div>
            </div>
        </div>
        <br/>
        <table border="1" cellpadding="5">
            <tr>
                <th></th>
                <th>Owner</th>
                <th>Total</th>
                <th>Loyalty Level</th>
            </tr>
            <!-- TODO fix this and replace with a REST request-->
            <!-- writer.append(getTableRows(request)); -->
        </table>
        <br/>
        <input type="submit" name="submit" value="Submit" style="font-family: sans-serif; font-size: 16px;">
        </form>
        <br/>
    </section>
</main>
</body>
</html>